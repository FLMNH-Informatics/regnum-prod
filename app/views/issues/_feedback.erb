<div id="tolkin_fb">
    <div id="fb_main" class="fb_main">
        <div id="overlay_header">
            <span onclick="document.getElementById('tolkin_fb').style.display = 'none';return false">close</span>
        </div>
        <div id="fb_pad">
            <div id="overlay_preamble">
                <h2 id="overlay_tolkin_title">Get in touch with Regnum</h2>
                <p id="overlay_tolkin_text">
                    Feel free to ask us anything. Submit this form and a ticket will be created for our developers to attend to.
                </p>
            </div>
			<div id="fb_spinner" class="hidden"><center>loading...<img src="" alt="loading..."></center></div>
            <div id="fb_getForm">
            </div>
        </div>
    </div>
    <div id="tolkin_screen">
    </div>
</div>
	<img id="fb_img" src="/images/fb.png" alt="Feedback"/>
	<script>
		$('tolkin_screen').observe('click', function(event){
			$('tolkin_fb').style.display='none';
		});
		Event.observe('fb_img', 'click', function(event){
			    $('fb_getForm').update($('fb_spinner').innerHTML);
				document.getElementById('tolkin_fb').style.display='block';
				new Ajax.Updater({ success: 'fb_getForm', failure: 'fb_getForm' }, '/issues/new', {
				  method: 'get',
				  evalScripts: true
				});

		});
	</script>
<style>
	div.hidden{
		display:none;
	}
	input.hidden{
		display:none;
	}
	div#tolkin_fb{
		display:none;
	}
    #fb_img{
        border-style: solid;
		border-color:white;
        position: fixed;
        left: 0px;
        top: 50%;
        margin-top: -15%;
		width:25px;
		height:60px;
		cursor:pointer;
		border-width:1px;
    }
    
    #fb_btn {
        float: right;
        width: 30%;
        margin: 10px;
    }
    
    .fb_form div textarea {
        width: 98%;
    }
    
    .fb_form div input {
        float: left;
        width: 98%;
    }
    
    #overlay_preamble h2 {
        background-color: #FFF3B3;
    }
    
    .fb_main #fb_pad {
        padding-left: 15px;
        padding-right: 15px;
    }
    
    div#overlay_header span {
        color: white;
        float: right;
        cursor: pointer;
        text-decoration: underline;
        font-weight: bold;
    }
    
    div#overlay_header {
        background-color: #000000;
        height: 34px;
    }
    
    div.fb_main {
        background-color: #FFFDF3;
        width: 37%;
        border-style: solid;
        z-index: 1000;
        position: fixed;
        left: 50%;
        top: 50%;
        margin-top: -15%;
        margin-left: -18.5%;
    }
    
    #tolkin_screen {
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        background-color: #000000;
        opacity: 0.42;
        z-index: 999;
    }
</style>
